{% extends 'layouts/dashboard.html' %}
{% load static %}

{% block extracss %}
  <link href="{% static 'css/users.css' %}" rel="stylesheet">
{% endblock extracss %}

{% block content %}
  <h2>Articles</h2>
  {% if messages %}
    <div class="notification success">
        {% for message in messages %}
          {{ message }}
        {% endfor %}
    </div>
  {% endif %}
  <a class="button" href="{% url 'post_new' %}">Créer un nouvel article</a>
  <a class="button" href="{% url 'categories_index' %}">Voir les catégories</a>
  <table>
    <thead>
      <tr>
        <th>#</th>
        <th>Titre</th>
        <th>Date de création</th>
        <th>Date de publication</th>
        <th>Catégorie</th>
        <th>Actions</th>
      </tr>
    </thead>
    <tbody>
    {% for post in posts %}
      <tr>
        <td>{{ post.id }}</td>
        <td>{{ post.title }}</td>
        <td>{{ post.created_date }}</td>
        <td>{{ post.published_date }}</td>
        <td>{{ post.category }}</td>
        <td>
          <a class="button" href="{% url 'post_edit' pk=post.pk %}">modifier</a>
        </td>
      </tr>
    {% endfor %}
    </tbody>
  </table>
{% endblock content %}
